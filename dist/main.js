(()=>{"use strict";const e=async()=>{const e=await(async()=>{try{const e=await fetch("http://gateway.marvel.com/v1/public/characters?limit=100&offset=200&ts=1&apikey=9d1213bcbc5b3fd8b46eb731651494fa&hash=0625ad92b2f50b8ee1ca09827ba36f69");let t=await e.json(),n=[];n=Object.values(t.data.results);let l=[];for(let e=0;e<n.length;e++)"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available"!==n[e].thumbnail.path&&"gif"!==n[e].thumbnail.extension&&l.push(n[e]);return t=l,t}catch(e){console.log("Fetch error",e)}})(),t=document.getElementById("card-collection");let n=[];for(let t=0;t<8;t++){let t=Math.floor(Math.random()*(e.length-1-1+1)+1);0==n.includes(t)?n.push(t):n.push(Math.ceil(t/2))}let l=(e=>{let t,n,l=e.length;for(;0!==l;)n=Math.floor(Math.random()*l),l-=1,t=e[l],e[l]=e[n],e[n]=t;return e})(Array.from(n).concat(n));console.log(l);for(let n=0;n<l.length;n++)t.innerHTML+=` \n            <div class="card-holder">\n                <div class="card">\n                    <div class="card-front">\n                        \n                    </div>\n                    <div class="card-back">\n                        <img class=card-image src="${e[l[n]].thumbnail.path}.${e[l[n]].thumbnail.extension}">\n                    </div>\n                </div>\n            </div>`},t=(e,t)=>{e[t].classList.add("spin")};function n(e){this.plugins=e.plugins||[],this._initPlugins()}n.prototype._initPlugins=function(){this.plugins.forEach((e=>{e.run(this)}))},n.prototype.fetch=async function(){await e()},n.prototype.flipCard=function(){(()=>{let e=[],n=[],l=[];setTimeout((()=>{e=document.querySelectorAll(".card"),n=document.querySelectorAll(".card-front");for(let o=0;o<n.length;o++)n[o].addEventListener("click",(()=>{if(l.push(o),console.log(l),t(e,o),e[l[l.length-1]].children[1].children[0].attributes[1].nodeValue!==e[l[l.length-2]].children[1].children[0].attributes[1].nodeValue){for(let t=0;t<e.length;t++)e[t].classList.remove("spin");t(e,o)}else{console.log("son iguales"),t(e,o);let n=[];n.push(e[l[l.length-1]],e[l[l.length-2]]),console.log(n);for(let e=0;e<n.length;e++)n[e].setAttribute("class","static")}}))}),2e3)})()};const l=n;function o(){}let c=document.getElementById("movements-counter"),a=document.querySelector(".Zero");o.prototype.run=function(){setTimeout((()=>{let e=document.querySelectorAll(".card-holder");e=[...e];let t=[];e.forEach((e=>{e.addEventListener("click",(()=>{if(t.push("click"),t.length%2==0){for(let e=3;e<c.childNodes.length;e++)a.remove(),c.childNodes[e].remove();let e=document.createElement("h2");e.className="countNumber",c.appendChild(e),e.textContent=t.length/2}}))}))}),2e3)};let i=new l({plugins:[new o]});i.fetch(),i.flipCard()})();