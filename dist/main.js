(()=>{"use strict";const t=async()=>{const t=await(async()=>{try{const t=await fetch("http://gateway.marvel.com/v1/public/characters?limit=100&offset=200&ts=1&apikey=9d1213bcbc5b3fd8b46eb731651494fa&hash=0625ad92b2f50b8ee1ca09827ba36f69");let e=await t.json(),n=[];n=Object.values(e.data.results);let o=[];for(let t=0;t<n.length;t++)"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available"!==n[t].thumbnail.path&&"gif"!==n[t].thumbnail.extension&&o.push(n[t]);return e=o,e}catch(t){console.log("Fetch error",t)}})(),e=document.getElementById("card-collection");let n=[];for(let e=0;e<8;e++){let e=Math.floor(Math.random()*(t.length-1-1+1)+1);0==n.includes(e)?n.push(e):n.push(Math.ceil(e/2))}let o=(t=>{let e,n,o=t.length;for(;0!==o;)n=Math.floor(Math.random()*o),o-=1,e=t[o],t[o]=t[n],t[n]=e;return t})(Array.from(n).concat(n));console.log(o);for(let n=0;n<o.length;n++)e.innerHTML+=` \n            <div class="card-holder">\n                <div class="card">\n                    <div class="card-front">\n                        \n                    </div>\n                    <div class="card-back">\n                        <img class=card-image src="${t[o[n]].thumbnail.path}.${t[o[n]].thumbnail.extension}">\n                    </div>\n                </div>\n            </div>`},e=(t,e)=>{t[e].classList.add("spin")};function n(t){this.timerState=t.timerState,this.media=t.audio,this.plugins=t.plugins||[],this._initPlugins()}n.prototype._initPlugins=function(){this.plugins.forEach((t=>{t.run(this)}))},n.prototype.fetch=async function(){await t()},n.prototype.flipCard=function(){(()=>{let t=[],n=[],o=[];setTimeout((()=>{t=document.querySelectorAll(".card"),n=document.querySelectorAll(".card-front");for(let i=0;i<n.length;i++)n[i].addEventListener("click",(()=>{if(o.push(i),console.log(o),e(t,i),t[o[o.length-1]].children[1].children[0].attributes[1].nodeValue!==t[o[o.length-2]].children[1].children[0].attributes[1].nodeValue){for(let e=0;e<t.length;e++)t[e].classList.remove("spin");e(t,i)}else{console.log("son iguales"),e(t,i);let n=[];n.push(t[o[o.length-1]],t[o[o.length-2]]),console.log(n);for(let t=0;t<n.length;t++)n[t].setAttribute("class","static")}}))}),2e3)})()},n.prototype.play=function(){this.media.play()},n.prototype.mute=function(){this.media.muted=!0},n.prototype.muteUnmute=function(){this.media.muted?this.media.muted=!1:this.media.muted=!0},n.prototype.toggleTimerStart=function(){0==this.timerState?(this.timerState=1,1==this.timerState&&(()=>{let t=document.getElementById("minutes"),e=document.getElementById("seconds"),n=0,o=0;window.setInterval((()=>{60==o&&(o=0,n++,t.innerHTML="0"+n,0==n&&(n=0)),e.innerHTML=o<10?"0"+o:o,o++}),1e3)})(),console.log("connected")):console.log("not connected")};const o=n;function i(){}let c=document.getElementById("movements-counter"),l=document.querySelector(".Zero");i.prototype.run=function(){setTimeout((()=>{let t=document.querySelectorAll(".card-holder");t=[...t];let e=[];t.forEach((t=>{t.addEventListener("click",(()=>{if(e.push("click"),e.length%2==0){for(let t=3;t<c.childNodes.length;t++)l.remove(),c.childNodes[t].remove();let t=document.createElement("h2");t.className="countNumber",c.appendChild(t),t.textContent=e.length/2}}))}))}),2e3)};const s=i;function a(){}a.prototype.run=function(t){const e=document.getElementById("muteUnmuteContainer"),n=document.createElement("img");n.src="https://img.icons8.com/windows/25/ffffff/high-volume--v3.png",document.querySelector(".card-collection").addEventListener("click",(()=>{t.play(),e.appendChild(n)})),n.addEventListener("click",(()=>{t.muteUnmute(),"https://img.icons8.com/windows/25/ffffff/high-volume--v3.png"==n.src?n.src="https://img.icons8.com/windows/25/ffffff/no-audio--v3.png":(n.src="https://img.icons8.com/windows/25/ffffff/no-audio--v3.png")&&(n.src="https://img.icons8.com/windows/25/ffffff/high-volume--v3.png")}))};const r=a,d=document.querySelector("audio"),u=document.getElementById("card-collection");let m=new o({timerState:0,audio:d,plugins:[new s,new r]});m.fetch(),m.flipCard(),u.onclick=m.toggleTimerStart()})();